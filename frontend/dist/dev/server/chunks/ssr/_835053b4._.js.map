{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/yarik/Documents/GitHub/EVERLAVE_B2C/frontend/components/ui/Button.tsx"],"sourcesContent":["import type { ButtonHTMLAttributes } from \"react\";\nimport { cn } from \"@/lib/utils\";\n\ntype ButtonVariant = \"header\" | \"contact\" | \"primary\" | \"category\";\n\ntype ButtonProps = ButtonHTMLAttributes<HTMLButtonElement> & {\n  variant?: ButtonVariant;\n};\n\nconst baseStyles =\n  \"inline-flex items-center justify-center rounded-full px-5 py-2 text-sm font-medium transition focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-60\";\n\nconst variants: Record<ButtonVariant, string> = {\n  header: \"bg-white text-pr_dg hover:bg-white/90\",\n  contact: \"bg-pr_dg text-white hover:bg-pr_dg/90\",\n  primary: \"bg-pr_dg text-white hover:bg-pr_dg/90\",\n  category: \"bg-pr_y text-pr_dg hover:bg-pr_y/90\",\n};\n\nexport default function Button({\n  variant = \"primary\",\n  className,\n  type = \"button\",\n  ...props\n}: ButtonProps) {\n  return (\n    <button\n      type={type}\n      className={cn(baseStyles, variants[variant], className)}\n      {...props}\n    />\n  );\n}\n"],"names":[],"mappings":";;;;;AACA;;;AAQA,MAAM,aACJ;AAEF,MAAM,WAA0C;IAC9C,QAAQ;IACR,SAAS;IACT,SAAS;IACT,UAAU;AACZ;AAEe,SAAS,OAAO,EAC7B,UAAU,SAAS,EACnB,SAAS,EACT,OAAO,QAAQ,EACf,GAAG,OACS;IACZ,qBACE,8OAAC;QACC,MAAM;QACN,WAAW,IAAA,kHAAE,EAAC,YAAY,QAAQ,CAAC,QAAQ,EAAE;QAC5C,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 34, "column": 0}, "map": {"version":3,"sources":["file:///Users/yarik/Documents/GitHub/EVERLAVE_B2C/frontend/lib/apiClient.ts"],"sourcesContent":["import {\n  clearTokens,\n  getAccessToken,\n  getRefreshToken,\n  setAccessToken,\n  setRefreshToken,\n} from \"@/lib/authTokens\";\n\nconst API_BASE_URL =\n  process.env.NEXT_PUBLIC_API_BASE_URL ?? process.env.NEXT_PUBLIC_API_URL ?? \"\";\n\ntype AuthTokenPair = {\n  accessToken?: string;\n  refreshToken?: string;\n};\n\nfunction getStringToken(\n  source: Record<string, unknown> | undefined,\n  keys: string[],\n) {\n  if (!source) return undefined;\n  for (const key of keys) {\n    const value = source[key];\n    if (typeof value === \"string\" && value.trim()) return value;\n  }\n  return undefined;\n}\n\nfunction extractAuthTokens(payload: unknown): AuthTokenPair {\n  if (!payload || typeof payload !== \"object\") return {};\n\n  const root = payload as Record<string, unknown>;\n  const data =\n    root.data && typeof root.data === \"object\"\n      ? (root.data as Record<string, unknown>)\n      : undefined;\n  const rootTokens =\n    root.tokens && typeof root.tokens === \"object\"\n      ? (root.tokens as Record<string, unknown>)\n      : undefined;\n  const dataTokens =\n    data?.tokens && typeof data.tokens === \"object\"\n      ? (data.tokens as Record<string, unknown>)\n      : undefined;\n\n  const accessToken =\n    getStringToken(root, [\"accessToken\", \"access_token\"]) ||\n    getStringToken(data, [\"accessToken\", \"access_token\"]) ||\n    getStringToken(rootTokens, [\"accessToken\", \"access_token\"]) ||\n    getStringToken(dataTokens, [\"accessToken\", \"access_token\"]);\n\n  const refreshToken =\n    getStringToken(root, [\"refreshToken\", \"refresh_token\"]) ||\n    getStringToken(data, [\"refreshToken\", \"refresh_token\"]) ||\n    getStringToken(rootTokens, [\"refreshToken\", \"refresh_token\"]) ||\n    getStringToken(dataTokens, [\"refreshToken\", \"refresh_token\"]);\n\n  return { accessToken, refreshToken };\n}\n\nfunction buildCandidateUrls(path: string) {\n  if (API_BASE_URL) return [`${API_BASE_URL}${path}`];\n  return [path];\n}\n\nasync function fetchWithFallback(\n  path: string,\n  init: RequestInit,\n  retryOnProxyError = true,\n) {\n  const urls = buildCandidateUrls(path);\n  let lastError: unknown;\n\n  for (let index = 0; index < urls.length; index += 1) {\n    const url = urls[index];\n    try {\n      const response = await fetch(url, init);\n      if (retryOnProxyError && response.status >= 500 && index < urls.length - 1) {\n        continue;\n      }\n\n      return response;\n    } catch (error) {\n      lastError = error;\n      const hasNext = index < urls.length - 1;\n      if (hasNext) continue;\n      throw error;\n    }\n  }\n\n  if (lastError instanceof Error) {\n    throw lastError;\n  }\n  throw new Error(\"Failed to fetch\");\n}\n\ntype ApiFetchOptions = {\n  onUnauthorized?: () => void;\n};\n\nexport async function apiFetch(\n  input: RequestInfo,\n  init: RequestInit = {},\n  options: ApiFetchOptions = {},\n) {\n  if (typeof input !== \"string\") {\n    throw new Error(\"apiFetch currently expects a string path input\");\n  }\n\n  const accessToken = getAccessToken();\n  const headers = new Headers(init.headers || {});\n\n  if (accessToken) {\n    headers.set(\"Authorization\", `Bearer ${accessToken}`);\n  }\n\n  const response = await fetchWithFallback(input, {\n    ...init,\n    headers,\n  });\n\n  if (response.status !== 401) return response;\n\n  const refreshToken = getRefreshToken();\n  if (!refreshToken) {\n    clearTokens();\n    options.onUnauthorized?.();\n    return response;\n  }\n\n  const refreshResponse = await fetchWithFallback(\n    \"/auth/refresh\",\n    {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      // Support both backend payload variants while keeping backward compatibility.\n      body: JSON.stringify({ refreshToken, token: refreshToken }),\n    },\n    true,\n  );\n\n  if (!refreshResponse.ok) {\n    clearTokens();\n    options.onUnauthorized?.();\n    return response;\n  }\n\n  const data = extractAuthTokens(await refreshResponse.json().catch(() => ({})));\n  if (data?.accessToken) {\n    setAccessToken(data.accessToken);\n    headers.set(\"Authorization\", `Bearer ${data.accessToken}`);\n  } else {\n    clearTokens();\n    options.onUnauthorized?.();\n    return response;\n  }\n  if (data?.refreshToken) {\n    setRefreshToken(data.refreshToken);\n  }\n\n  return fetchWithFallback(input, {\n    ...init,\n    headers,\n  });\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 173, "column": 0}, "map": {"version":3,"sources":["file:///Users/yarik/Documents/GitHub/EVERLAVE_B2C/frontend/services/cart.ts"],"sourcesContent":["import { apiFetch } from \"@/lib/apiClient\";\n\nexport type CartProduct = {\n  slug: string;\n  name: string;\n  priceCents: number;\n  currency: string;\n  stockQty: number;\n  images?: Array<{ id?: string; url: string }>;\n};\n\nexport type CartItem = {\n  product: CartProduct;\n  qty: number;\n  lineTotal: number;\n};\n\nexport type CartResponse = {\n  id: string;\n  items: CartItem[];\n  subtotalCents: number;\n};\n\ntype ApiError = Error & { status?: number };\n\nfunction buildApiError(\n  fallbackMessage: string,\n  status: number,\n  payload?: { message?: string; error?: string },\n) {\n  const error = new Error(\n    payload?.message || payload?.error || fallbackMessage,\n  ) as ApiError;\n  error.status = status;\n  return error;\n}\n\nfunction ensureProductSlug(productSlug: string) {\n  return productSlug.trim();\n}\n\nexport async function fetchCart() {\n  const response = await apiFetch(\"/cart\");\n  if (!response.ok) {\n    const error = await response.json().catch(() => ({}));\n    throw buildApiError(\"Failed to load cart\", response.status, error);\n  }\n  return (await response.json()) as CartResponse;\n}\n\nexport async function addCartItem(productSlug: string, qty = 1) {\n  const normalizedProductSlug = ensureProductSlug(productSlug);\n  if (!normalizedProductSlug) {\n    throw buildApiError(\"Product is unavailable\", 400);\n  }\n\n  const normalizedQty = Math.max(1, Math.trunc(qty || 1));\n  const response = await apiFetch(\"/cart/items\", {\n    method: \"POST\",\n    headers: { \"Content-Type\": \"application/json\" },\n    body: JSON.stringify({\n      // Keep both keys for backend compatibility while migration settles.\n      productId: normalizedProductSlug,\n      productSlug: normalizedProductSlug,\n      qty: normalizedQty,\n    }),\n  });\n\n  if (!response.ok) {\n    const error = await response.json().catch(() => ({}));\n    throw buildApiError(\"Failed to add item\", response.status, error);\n  }\n\n  return response.json() as Promise<{ success: boolean }>;\n}\n\nexport async function updateCartItem(productSlug: string, qty: number) {\n  const normalizedProductSlug = ensureProductSlug(productSlug);\n  if (!normalizedProductSlug) {\n    throw buildApiError(\"Product slug is required\", 400);\n  }\n  const response = await apiFetch(\n    `/cart/items/${encodeURIComponent(normalizedProductSlug)}`,\n    {\n      method: \"PATCH\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({ qty }),\n    },\n  );\n\n  if (!response.ok) {\n    const error = await response.json().catch(() => ({}));\n    throw buildApiError(\"Failed to update item\", response.status, error);\n  }\n  return response.json() as Promise<{ success: boolean }>;\n}\n\nexport async function removeCartItem(productSlug: string) {\n  const normalizedProductSlug = ensureProductSlug(productSlug);\n  if (!normalizedProductSlug) {\n    throw buildApiError(\"Product slug is required\", 400);\n  }\n  const response = await apiFetch(\n    `/cart/items/${encodeURIComponent(normalizedProductSlug)}`,\n    {\n      method: \"DELETE\",\n    },\n  );\n\n  if (!response.ok) {\n    const error = await response.json().catch(() => ({}));\n    throw buildApiError(\"Failed to remove item\", response.status, error);\n  }\n  return response.json() as Promise<{ success: boolean }>;\n}\n\nexport async function clearCart() {\n  const response = await apiFetch(\"/cart\", {\n    method: \"DELETE\",\n  });\n  if (!response.ok) {\n    const error = await response.json().catch(() => ({}));\n    throw buildApiError(\"Failed to clear cart\", response.status, error);\n  }\n  return response.json() as Promise<{ success: boolean }>;\n}\n"],"names":[],"mappings":";;;;;;;;;;;;AAAA;;AAyBA,SAAS,cACP,eAAuB,EACvB,MAAc,EACd,OAA8C;IAE9C,MAAM,QAAQ,IAAI,MAChB,SAAS,WAAW,SAAS,SAAS;IAExC,MAAM,MAAM,GAAG;IACf,OAAO;AACT;AAEA,SAAS,kBAAkB,WAAmB;IAC5C,OAAO,YAAY,IAAI;AACzB;AAEO,eAAe;IACpB,MAAM,WAAW,MAAM,IAAA,4HAAQ,EAAC;IAChC,IAAI,CAAC,SAAS,EAAE,EAAE;QAChB,MAAM,QAAQ,MAAM,SAAS,IAAI,GAAG,KAAK,CAAC,IAAM,CAAC,CAAC,CAAC;QACnD,MAAM,cAAc,uBAAuB,SAAS,MAAM,EAAE;IAC9D;IACA,OAAQ,MAAM,SAAS,IAAI;AAC7B;AAEO,eAAe,YAAY,WAAmB,EAAE,MAAM,CAAC;IAC5D,MAAM,wBAAwB,kBAAkB;IAChD,IAAI,CAAC,uBAAuB;QAC1B,MAAM,cAAc,0BAA0B;IAChD;IAEA,MAAM,gBAAgB,KAAK,GAAG,CAAC,GAAG,KAAK,KAAK,CAAC,OAAO;IACpD,MAAM,WAAW,MAAM,IAAA,4HAAQ,EAAC,eAAe;QAC7C,QAAQ;QACR,SAAS;YAAE,gBAAgB;QAAmB;QAC9C,MAAM,KAAK,SAAS,CAAC;YACnB,oEAAoE;YACpE,WAAW;YACX,aAAa;YACb,KAAK;QACP;IACF;IAEA,IAAI,CAAC,SAAS,EAAE,EAAE;QAChB,MAAM,QAAQ,MAAM,SAAS,IAAI,GAAG,KAAK,CAAC,IAAM,CAAC,CAAC,CAAC;QACnD,MAAM,cAAc,sBAAsB,SAAS,MAAM,EAAE;IAC7D;IAEA,OAAO,SAAS,IAAI;AACtB;AAEO,eAAe,eAAe,WAAmB,EAAE,GAAW;IACnE,MAAM,wBAAwB,kBAAkB;IAChD,IAAI,CAAC,uBAAuB;QAC1B,MAAM,cAAc,4BAA4B;IAClD;IACA,MAAM,WAAW,MAAM,IAAA,4HAAQ,EAC7B,CAAC,YAAY,EAAE,mBAAmB,wBAAwB,EAC1D;QACE,QAAQ;QACR,SAAS;YAAE,gBAAgB;QAAmB;QAC9C,MAAM,KAAK,SAAS,CAAC;YAAE;QAAI;IAC7B;IAGF,IAAI,CAAC,SAAS,EAAE,EAAE;QAChB,MAAM,QAAQ,MAAM,SAAS,IAAI,GAAG,KAAK,CAAC,IAAM,CAAC,CAAC,CAAC;QACnD,MAAM,cAAc,yBAAyB,SAAS,MAAM,EAAE;IAChE;IACA,OAAO,SAAS,IAAI;AACtB;AAEO,eAAe,eAAe,WAAmB;IACtD,MAAM,wBAAwB,kBAAkB;IAChD,IAAI,CAAC,uBAAuB;QAC1B,MAAM,cAAc,4BAA4B;IAClD;IACA,MAAM,WAAW,MAAM,IAAA,4HAAQ,EAC7B,CAAC,YAAY,EAAE,mBAAmB,wBAAwB,EAC1D;QACE,QAAQ;IACV;IAGF,IAAI,CAAC,SAAS,EAAE,EAAE;QAChB,MAAM,QAAQ,MAAM,SAAS,IAAI,GAAG,KAAK,CAAC,IAAM,CAAC,CAAC,CAAC;QACnD,MAAM,cAAc,yBAAyB,SAAS,MAAM,EAAE;IAChE;IACA,OAAO,SAAS,IAAI;AACtB;AAEO,eAAe;IACpB,MAAM,WAAW,MAAM,IAAA,4HAAQ,EAAC,SAAS;QACvC,QAAQ;IACV;IACA,IAAI,CAAC,SAAS,EAAE,EAAE;QAChB,MAAM,QAAQ,MAAM,SAAS,IAAI,GAAG,KAAK,CAAC,IAAM,CAAC,CAAC,CAAC;QACnD,MAAM,cAAc,wBAAwB,SAAS,MAAM,EAAE;IAC/D;IACA,OAAO,SAAS,IAAI;AACtB"}},
    {"offset": {"line": 275, "column": 0}, "map": {"version":3,"sources":["file:///Users/yarik/Documents/GitHub/EVERLAVE_B2C/frontend/components/cart/AddToCartButton.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport { usePathname, useRouter } from \"next/navigation\";\nimport Button from \"@/components/ui/Button\";\nimport { addCartItem } from \"@/services/cart\";\nimport { useAuth } from \"@/components/auth/AuthProvider\";\n\ntype AddToCartButtonProps = {\n  productId?: string;\n  qty?: number;\n  label?: string;\n  variant?: \"header\" | \"contact\" | \"primary\" | \"category\";\n  className?: string;\n};\n\nexport default function AddToCartButton({\n  productId,\n  qty = 1,\n  label = \"Add to Cart +\",\n  variant = \"category\",\n  className,\n}: AddToCartButtonProps) {\n  const disableAuth = process.env.NEXT_PUBLIC_DISABLE_AUTH === \"true\";\n  const router = useRouter();\n  const pathname = usePathname();\n  const { isAuthenticated, isInitializing } = useAuth();\n  const [loading, setLoading] = useState(false);\n  const [justAdded, setJustAdded] = useState(false);\n  const [failed, setFailed] = useState(false);\n\n  const handleClick = async () => {\n    if (isInitializing) return;\n    if (!productId) return;\n    if (!isAuthenticated && !disableAuth) {\n      router.push(`/signin?next=${encodeURIComponent(pathname ?? \"/\")}`);\n      return;\n    }\n    try {\n      setLoading(true);\n      setFailed(false);\n      await addCartItem(productId, qty);\n      setJustAdded(true);\n      setTimeout(() => setJustAdded(false), 1500);\n    } catch (error) {\n      setJustAdded(false);\n      const status =\n        typeof error === \"object\" &&\n        error !== null &&\n        \"status\" in error &&\n        typeof (error as { status?: unknown }).status === \"number\"\n          ? ((error as { status: number }).status ?? 0)\n          : 0;\n\n      if ((status === 401 || status === 403) && !disableAuth) {\n        router.push(`/signin?next=${encodeURIComponent(pathname ?? \"/\")}`);\n        return;\n      }\n\n      setFailed(true);\n      setTimeout(() => setFailed(false), 1500);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <Button\n      variant={variant}\n      className={className}\n      disabled={loading || !productId || isInitializing}\n      onClick={handleClick}\n      type=\"button\"\n    >\n      {loading\n        ? \"Adding...\"\n        : isInitializing\n          ? \"Checking...\"\n          : justAdded\n            ? \"Added\"\n            : failed\n              ? \"Try again\"\n              : label}\n    </Button>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AANA;;;;;;;AAgBe,SAAS,gBAAgB,EACtC,SAAS,EACT,MAAM,CAAC,EACP,QAAQ,eAAe,EACvB,UAAU,UAAU,EACpB,SAAS,EACY;IACrB,MAAM,cAAc,8CAAyC;IAC7D,MAAM,SAAS,IAAA,+IAAS;IACxB,MAAM,WAAW,IAAA,iJAAW;IAC5B,MAAM,EAAE,eAAe,EAAE,cAAc,EAAE,GAAG,IAAA,8IAAO;IACnD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IACvC,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAC;IAC3C,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,iNAAQ,EAAC;IAErC,MAAM,cAAc;QAClB,IAAI,gBAAgB;QACpB,IAAI,CAAC,WAAW;QAChB,IAAI,CAAC,mBAAmB,CAAC,aAAa;YACpC,OAAO,IAAI,CAAC,CAAC,aAAa,EAAE,mBAAmB,YAAY,MAAM;YACjE;QACF;QACA,IAAI;YACF,WAAW;YACX,UAAU;YACV,MAAM,IAAA,+HAAW,EAAC,WAAW;YAC7B,aAAa;YACb,WAAW,IAAM,aAAa,QAAQ;QACxC,EAAE,OAAO,OAAO;YACd,aAAa;YACb,MAAM,SACJ,OAAO,UAAU,YACjB,UAAU,QACV,YAAY,SACZ,OAAO,AAAC,MAA+B,MAAM,KAAK,WAC7C,AAAC,MAA6B,MAAM,IAAI,IACzC;YAEN,IAAI,CAAC,WAAW,OAAO,WAAW,GAAG,KAAK,CAAC,aAAa;gBACtD,OAAO,IAAI,CAAC,CAAC,aAAa,EAAE,mBAAmB,YAAY,MAAM;gBACjE;YACF;YAEA,UAAU;YACV,WAAW,IAAM,UAAU,QAAQ;QACrC,SAAU;YACR,WAAW;QACb;IACF;IAEA,qBACE,8OAAC,sIAAM;QACL,SAAS;QACT,WAAW;QACX,UAAU,WAAW,CAAC,aAAa;QACnC,SAAS;QACT,MAAK;kBAEJ,UACG,cACA,iBACE,gBACA,YACE,UACA,SACE,cACA;;;;;;AAGhB"}},
    {"offset": {"line": 343, "column": 0}, "map": {"version":3,"sources":["file:///Users/yarik/Documents/GitHub/EVERLAVE_B2C/frontend/components/seeds/RatingBar.tsx"],"sourcesContent":["type RatingBarProps = {\n  label: string;\n  value: number;\n  total: number;\n};\n\nexport default function RatingBar({ label, value, total }: RatingBarProps) {\n  const percent = Math.round((value / total) * 100);\n  return (\n    <div className=\"flex items-center gap-3 text-xs text-pr_dg\">\n      <span className=\"w-20\">{label}</span>\n      <div className=\"h-2 flex-1 rounded-full bg-pr_dg/10\">\n        <div\n          className=\"h-2 rounded-full bg-pr_lg\"\n          style={{ width: `${percent}%` }}\n        />\n      </div>\n      <span className=\"w-10 text-right text-pr_dg/60\">{value}</span>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;;AAMe,SAAS,UAAU,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAkB;IACvE,MAAM,UAAU,KAAK,KAAK,CAAC,AAAC,QAAQ,QAAS;IAC7C,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAK,WAAU;0BAAQ;;;;;;0BACxB,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBACC,WAAU;oBACV,OAAO;wBAAE,OAAO,GAAG,QAAQ,CAAC,CAAC;oBAAC;;;;;;;;;;;0BAGlC,8OAAC;gBAAK,WAAU;0BAAiC;;;;;;;;;;;;AAGvD"}},
    {"offset": {"line": 398, "column": 0}, "map": {"version":3,"sources":["file:///Users/yarik/Documents/GitHub/EVERLAVE_B2C/frontend/components/seeds/ReviewCard.tsx"],"sourcesContent":["type ReviewCardProps = {\n  name: string;\n  rating: number;\n  text: string;\n  images?: string[];\n  createdAt?: string;\n  isMine?: boolean;\n  onDelete?: () => void;\n  onOpen?: () => void;\n};\n\nexport default function ReviewCard({\n  name,\n  rating,\n  text,\n  images = [],\n  createdAt,\n  isMine,\n  onDelete,\n  onOpen,\n}: ReviewCardProps) {\n  const visibleImages = images.slice(0, 3);\n\n  return (\n    <div\n      role={onOpen ? \"button\" : undefined}\n      tabIndex={onOpen ? 0 : undefined}\n      onClick={onOpen}\n      onKeyDown={(event) => {\n        if (!onOpen) return;\n        if (event.key === \"Enter\" || event.key === \" \") {\n          event.preventDefault();\n          onOpen();\n        }\n      }}\n      className={\n        \"rounded-2xl bg-pr_w p-5 text-pr_dg\" +\n        (onOpen ? \" cursor-pointer transition hover:shadow-sm\" : \"\")\n      }\n    >\n      <div className=\"flex items-center justify-between\">\n        <div className=\"flex items-center gap-2 text-sm font-semibold\">\n          <span className=\"h-5 w-5 rounded-full bg-sr_dg\" />\n          {name}\n        </div>\n        <div className=\"flex items-center gap-3\">\n          {isMine && onDelete ? (\n            <button\n              type=\"button\"\n              onClick={(event) => {\n                event.stopPropagation();\n                onDelete();\n              }}\n              className=\"text-xs text-pr_dr\"\n            >\n              Delete\n            </button>\n          ) : null}\n          <div className=\"text-xs text-pr_dg/70\">\n            {\"★\".repeat(rating)}\n            {\"☆\".repeat(5 - rating)}\n          </div>\n        </div>\n      </div>\n      {createdAt ? (\n        <p className=\"mt-1 text-xs text-pr_dg/60\">\n          {new Date(createdAt).toLocaleDateString()}\n        </p>\n      ) : null}\n      <p className=\"mt-3 text-xs text-pr_dg/70\">{text}</p>\n      {visibleImages.length > 0 ? (\n        <div className=\"mt-4 grid grid-cols-3 gap-3\">\n          {visibleImages.map((url, index) => (\n            <img\n              key={`${url}-${index}`}\n              src={url}\n              alt=\"\"\n              className=\"h-16 w-full rounded-lg object-cover\"\n            />\n          ))}\n        </div>\n      ) : null}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;;AAWe,SAAS,WAAW,EACjC,IAAI,EACJ,MAAM,EACN,IAAI,EACJ,SAAS,EAAE,EACX,SAAS,EACT,MAAM,EACN,QAAQ,EACR,MAAM,EACU;IAChB,MAAM,gBAAgB,OAAO,KAAK,CAAC,GAAG;IAEtC,qBACE,8OAAC;QACC,MAAM,SAAS,WAAW;QAC1B,UAAU,SAAS,IAAI;QACvB,SAAS;QACT,WAAW,CAAC;YACV,IAAI,CAAC,QAAQ;YACb,IAAI,MAAM,GAAG,KAAK,WAAW,MAAM,GAAG,KAAK,KAAK;gBAC9C,MAAM,cAAc;gBACpB;YACF;QACF;QACA,WACE,uCACA,CAAC,SAAS,+CAA+C,EAAE;;0BAG7D,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAK,WAAU;;;;;;4BACf;;;;;;;kCAEH,8OAAC;wBAAI,WAAU;;4BACZ,UAAU,yBACT,8OAAC;gCACC,MAAK;gCACL,SAAS,CAAC;oCACR,MAAM,eAAe;oCACrB;gCACF;gCACA,WAAU;0CACX;;;;;uCAGC;0CACJ,8OAAC;gCAAI,WAAU;;oCACZ,IAAI,MAAM,CAAC;oCACX,IAAI,MAAM,CAAC,IAAI;;;;;;;;;;;;;;;;;;;YAIrB,0BACC,8OAAC;gBAAE,WAAU;0BACV,IAAI,KAAK,WAAW,kBAAkB;;;;;uBAEvC;0BACJ,8OAAC;gBAAE,WAAU;0BAA8B;;;;;;YAC1C,cAAc,MAAM,GAAG,kBACtB,8OAAC;gBAAI,WAAU;0BACZ,cAAc,GAAG,CAAC,CAAC,KAAK,sBACvB,8OAAC;wBAEC,KAAK;wBACL,KAAI;wBACJ,WAAU;uBAHL,GAAG,IAAI,CAAC,EAAE,OAAO;;;;;;;;;uBAO1B;;;;;;;AAGV"}},
    {"offset": {"line": 521, "column": 0}, "map": {"version":3,"sources":["file:///Users/yarik/Documents/GitHub/EVERLAVE_B2C/frontend/components/ui/Modal.tsx"],"sourcesContent":["\"use client\";\n\nimport { ReactNode } from \"react\";\nimport { cn } from \"@/lib/utils\";\n\ntype ModalProps = {\n  isOpen: boolean;\n  onClose: () => void;\n  children: ReactNode;\n  className?: string;\n};\n\nexport default function Modal({ isOpen, onClose, children, className }: ModalProps) {\n  if (!isOpen) return null;\n\n  return (\n    <div className=\"fixed inset-0 z-[120] flex items-center justify-center px-4\">\n      <button\n        type=\"button\"\n        aria-label=\"Close modal\"\n        onClick={onClose}\n        className=\"absolute inset-0 bg-black/60\"\n      />\n      <div\n        className={cn(\n          \"relative w-full max-w-5xl rounded-[32px] bg-pr_w p-6 text-pr_dg shadow-2xl\",\n          className,\n        )}\n        onClick={(event) => event.stopPropagation()}\n      >\n        {children}\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAGA;AAHA;;;AAYe,SAAS,MAAM,EAAE,MAAM,EAAE,OAAO,EAAE,QAAQ,EAAE,SAAS,EAAc;IAChF,IAAI,CAAC,QAAQ,OAAO;IAEpB,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBACC,MAAK;gBACL,cAAW;gBACX,SAAS;gBACT,WAAU;;;;;;0BAEZ,8OAAC;gBACC,WAAW,IAAA,kHAAE,EACX,8EACA;gBAEF,SAAS,CAAC,QAAU,MAAM,eAAe;0BAExC;;;;;;;;;;;;AAIT"}},
    {"offset": {"line": 565, "column": 0}, "map": {"version":3,"sources":["file:///Users/yarik/Documents/GitHub/EVERLAVE_B2C/frontend/components/ui/ImageLightbox.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport Modal from \"@/components/ui/Modal\";\nimport { cn } from \"@/lib/utils\";\n\ntype ImageLightboxProps = {\n  images: string[];\n  isOpen: boolean;\n  initialIndex?: number;\n  onClose: () => void;\n  title?: string;\n};\n\nexport default function ImageLightbox({\n  images,\n  isOpen,\n  initialIndex = 0,\n  onClose,\n  title,\n}: ImageLightboxProps) {\n  const [index, setIndex] = useState(initialIndex);\n\n  useEffect(() => {\n    if (isOpen) setIndex(initialIndex);\n  }, [isOpen, initialIndex]);\n\n  if (!isOpen || images.length === 0) return null;\n\n  const current = images[index] ?? images[0];\n\n  return (\n    <Modal isOpen={isOpen} onClose={onClose} className=\"max-w-6xl\">\n      <div className=\"flex items-center justify-between\">\n        <h3 className=\"text-lg font-semibold\">{title ?? \"Photos\"}</h3>\n        <button\n          type=\"button\"\n          onClick={onClose}\n          className=\"rounded-full bg-pr_dg px-4 py-2 text-xs font-semibold text-pr_w\"\n        >\n          Close\n        </button>\n      </div>\n      <div className=\"mt-6 grid gap-6 lg:grid-cols-[1.4fr_0.8fr]\">\n        <div className=\"rounded-2xl bg-sr_dg/90 p-4\">\n          <img\n            src={current}\n            alt=\"\"\n            className=\"h-[360px] w-full rounded-2xl object-cover\"\n          />\n        </div>\n        <div className=\"grid grid-cols-2 gap-3 content-start\">\n          {images.map((img, idx) => (\n            <button\n              key={`${img}-${idx}`}\n              type=\"button\"\n              onClick={() => setIndex(idx)}\n              className={cn(\n                \"rounded-xl border p-1 transition\",\n                idx === index\n                  ? \"border-pr_dg\"\n                  : \"border-transparent hover:border-pr_dg/40\",\n              )}\n            >\n              <img\n                src={img}\n                alt=\"\"\n                className=\"h-28 w-full rounded-lg object-cover\"\n              />\n            </button>\n          ))}\n        </div>\n      </div>\n    </Modal>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAce,SAAS,cAAc,EACpC,MAAM,EACN,MAAM,EACN,eAAe,CAAC,EAChB,OAAO,EACP,KAAK,EACc;IACnB,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAC;IAEnC,IAAA,kNAAS,EAAC;QACR,IAAI,QAAQ,SAAS;IACvB,GAAG;QAAC;QAAQ;KAAa;IAEzB,IAAI,CAAC,UAAU,OAAO,MAAM,KAAK,GAAG,OAAO;IAE3C,MAAM,UAAU,MAAM,CAAC,MAAM,IAAI,MAAM,CAAC,EAAE;IAE1C,qBACE,8OAAC,qIAAK;QAAC,QAAQ;QAAQ,SAAS;QAAS,WAAU;;0BACjD,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAG,WAAU;kCAAyB,SAAS;;;;;;kCAChD,8OAAC;wBACC,MAAK;wBACL,SAAS;wBACT,WAAU;kCACX;;;;;;;;;;;;0BAIH,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC;4BACC,KAAK;4BACL,KAAI;4BACJ,WAAU;;;;;;;;;;;kCAGd,8OAAC;wBAAI,WAAU;kCACZ,OAAO,GAAG,CAAC,CAAC,KAAK,oBAChB,8OAAC;gCAEC,MAAK;gCACL,SAAS,IAAM,SAAS;gCACxB,WAAW,IAAA,kHAAE,EACX,oCACA,QAAQ,QACJ,iBACA;0CAGN,cAAA,8OAAC;oCACC,KAAK;oCACL,KAAI;oCACJ,WAAU;;;;;;+BAbP,GAAG,IAAI,CAAC,EAAE,KAAK;;;;;;;;;;;;;;;;;;;;;;AAqBlC"}},
    {"offset": {"line": 681, "column": 0}, "map": {"version":3,"sources":["file:///Users/yarik/Documents/GitHub/EVERLAVE_B2C/frontend/components/seeds/ReviewDetailModal.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport Modal from \"@/components/ui/Modal\";\nimport { cn } from \"@/lib/utils\";\n\nexport type ReviewDetail = {\n  name: string;\n  rating: number;\n  text: string;\n  images?: string[];\n  createdAt?: string;\n};\n\ntype ReviewDetailModalProps = {\n  isOpen: boolean;\n  onClose: () => void;\n  review?: ReviewDetail | null;\n};\n\nexport default function ReviewDetailModal({\n  isOpen,\n  onClose,\n  review,\n}: ReviewDetailModalProps) {\n  const [activeIndex, setActiveIndex] = useState(0);\n  const images = review?.images ?? [];\n\n  useEffect(() => {\n    if (isOpen) setActiveIndex(0);\n  }, [isOpen, review?.images]);\n\n  if (!review) return null;\n\n  const mainImage = images[activeIndex];\n\n  return (\n    <Modal isOpen={isOpen} onClose={onClose} className=\"max-w-5xl\">\n      <div className=\"flex items-center justify-between\">\n        <button\n          type=\"button\"\n          onClick={onClose}\n          className=\"rounded-full bg-pr_dg px-4 py-2 text-xs font-semibold text-pr_w\"\n        >\n          Close\n        </button>\n      </div>\n\n      <div className=\"mt-6 grid gap-6 lg:grid-cols-[1.2fr_1fr]\">\n        <div className=\"rounded-2xl bg-sr_dg/90 p-4\">\n          {mainImage ? (\n            <img\n              src={mainImage}\n              alt=\"\"\n              className=\"h-[320px] w-full rounded-2xl object-cover\"\n            />\n          ) : (\n            <div className=\"h-[320px] w-full rounded-2xl bg-sr_dg\" />\n          )}\n        </div>\n\n        <div className=\"space-y-4\">\n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex items-center gap-3 text-sm font-semibold\">\n              <span className=\"h-8 w-8 rounded-full bg-sr_dg\" />\n              {review.name}\n            </div>\n            <div className=\"text-sm text-pr_dg/70\">\n              {\"★\".repeat(review.rating)}\n              {\"☆\".repeat(5 - review.rating)}\n            </div>\n          </div>\n\n          {review.createdAt ? (\n            <p className=\"text-xs text-pr_dg/60\">\n              {new Date(review.createdAt).toLocaleDateString()}\n            </p>\n          ) : null}\n\n          <p className=\"text-sm text-pr_dg/80\">{review.text}</p>\n\n          {images.length > 1 ? (\n            <div className=\"grid grid-cols-3 gap-3\">\n              {images.map((image, index) => (\n                <button\n                  key={`${image}-${index}`}\n                  type=\"button\"\n                  onClick={() => setActiveIndex(index)}\n                  className={cn(\n                    \"rounded-xl border p-1\",\n                    index === activeIndex\n                      ? \"border-pr_dg\"\n                      : \"border-transparent hover:border-pr_dg/40\",\n                  )}\n                >\n                  <img\n                    src={image}\n                    alt=\"\"\n                    className=\"h-20 w-full rounded-lg object-cover\"\n                  />\n                </button>\n              ))}\n            </div>\n          ) : null}\n        </div>\n      </div>\n    </Modal>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAoBe,SAAS,kBAAkB,EACxC,MAAM,EACN,OAAO,EACP,MAAM,EACiB;IACvB,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAC;IAC/C,MAAM,SAAS,QAAQ,UAAU,EAAE;IAEnC,IAAA,kNAAS,EAAC;QACR,IAAI,QAAQ,eAAe;IAC7B,GAAG;QAAC;QAAQ,QAAQ;KAAO;IAE3B,IAAI,CAAC,QAAQ,OAAO;IAEpB,MAAM,YAAY,MAAM,CAAC,YAAY;IAErC,qBACE,8OAAC,qIAAK;QAAC,QAAQ;QAAQ,SAAS;QAAS,WAAU;;0BACjD,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBACC,MAAK;oBACL,SAAS;oBACT,WAAU;8BACX;;;;;;;;;;;0BAKH,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;kCACZ,0BACC,8OAAC;4BACC,KAAK;4BACL,KAAI;4BACJ,WAAU;;;;;iDAGZ,8OAAC;4BAAI,WAAU;;;;;;;;;;;kCAInB,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;gDAAK,WAAU;;;;;;4CACf,OAAO,IAAI;;;;;;;kDAEd,8OAAC;wCAAI,WAAU;;4CACZ,IAAI,MAAM,CAAC,OAAO,MAAM;4CACxB,IAAI,MAAM,CAAC,IAAI,OAAO,MAAM;;;;;;;;;;;;;4BAIhC,OAAO,SAAS,iBACf,8OAAC;gCAAE,WAAU;0CACV,IAAI,KAAK,OAAO,SAAS,EAAE,kBAAkB;;;;;uCAE9C;0CAEJ,8OAAC;gCAAE,WAAU;0CAAyB,OAAO,IAAI;;;;;;4BAEhD,OAAO,MAAM,GAAG,kBACf,8OAAC;gCAAI,WAAU;0CACZ,OAAO,GAAG,CAAC,CAAC,OAAO,sBAClB,8OAAC;wCAEC,MAAK;wCACL,SAAS,IAAM,eAAe;wCAC9B,WAAW,IAAA,kHAAE,EACX,yBACA,UAAU,cACN,iBACA;kDAGN,cAAA,8OAAC;4CACC,KAAK;4CACL,KAAI;4CACJ,WAAU;;;;;;uCAbP,GAAG,MAAM,CAAC,EAAE,OAAO;;;;;;;;;uCAkB5B;;;;;;;;;;;;;;;;;;;AAKd"}},
    {"offset": {"line": 856, "column": 0}, "map": {"version":3,"sources":["file:///Users/yarik/Documents/GitHub/EVERLAVE_B2C/frontend/components/seeds/ReviewFormModal.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport Modal from \"@/components/ui/Modal\";\nimport { cn } from \"@/lib/utils\";\n\ntype ReviewFormModalProps = {\n  isOpen: boolean;\n  onClose: () => void;\n  rating: number;\n  onRatingChange: (value: number) => void;\n  text: string;\n  onTextChange: (value: string) => void;\n  images: string[];\n  onImagesChange: (images: string[]) => void;\n  onSubmit: () => void;\n  loading?: boolean;\n  error?: string;\n};\n\nexport default function ReviewFormModal({\n  isOpen,\n  onClose,\n  rating,\n  onRatingChange,\n  text,\n  onTextChange,\n  images,\n  onImagesChange,\n  onSubmit,\n  loading,\n  error,\n}: ReviewFormModalProps) {\n  const [urlInput, setUrlInput] = useState(\"\");\n\n  const handleAddImage = () => {\n    const trimmed = urlInput.trim();\n    if (!trimmed) return;\n    onImagesChange([...images, trimmed].slice(0, 5));\n    setUrlInput(\"\");\n  };\n\n  const handleRemove = (index: number) => {\n    onImagesChange(images.filter((_, idx) => idx !== index));\n  };\n\n  return (\n    <Modal isOpen={isOpen} onClose={onClose} className=\"max-w-4xl\">\n      <div className=\"space-y-6\">\n        <div>\n          <h3 className=\"text-xl font-semibold\">Write a review</h3>\n          <p className=\"mt-1 text-sm text-pr_dg/70\">Give your rate</p>\n          <div className=\"mt-2 flex gap-2\">\n            {Array.from({ length: 5 }, (_, index) => index + 1).map((value) => (\n              <button\n                key={value}\n                type=\"button\"\n                onClick={() => onRatingChange(value)}\n                className={cn(\n                  \"text-lg transition\",\n                  rating >= value ? \"text-pr_dg\" : \"text-pr_dg/30\",\n                )}\n              >\n                ★\n              </button>\n            ))}\n          </div>\n        </div>\n\n        <div>\n          <textarea\n            value={text}\n            onChange={(event) => onTextChange(event.target.value)}\n            placeholder=\"What should other customers know?\"\n            className=\"min-h-[140px] w-full rounded-2xl border border-pr_dg/30 bg-pr_w px-4 py-3 text-sm text-pr_dg outline-none\"\n          />\n        </div>\n\n        <div>\n          <p className=\"text-sm font-semibold\">Share a photo</p>\n          <div className=\"mt-3 rounded-2xl border border-dashed border-pr_dg/40 p-4 text-sm text-pr_dg/60\">\n            Click here to upload your image (paste URL below)\n          </div>\n          <div className=\"mt-3 flex flex-wrap gap-2\">\n            <input\n              value={urlInput}\n              onChange={(event) => setUrlInput(event.target.value)}\n              placeholder=\"Image URL\"\n              className=\"flex-1 rounded-full border border-pr_dg/30 px-4 py-2 text-sm text-pr_dg outline-none\"\n            />\n            <button\n              type=\"button\"\n              onClick={handleAddImage}\n              className=\"rounded-full bg-pr_dg px-4 py-2 text-sm font-semibold text-pr_w\"\n            >\n              Add\n            </button>\n          </div>\n\n          {images.length > 0 ? (\n            <div className=\"mt-4 grid grid-cols-3 gap-3\">\n              {images.map((image, index) => (\n                <div key={`${image}-${index}`} className=\"relative\">\n                  <img\n                    src={image}\n                    alt=\"\"\n                    className=\"h-20 w-full rounded-xl object-cover\"\n                  />\n                  <button\n                    type=\"button\"\n                    onClick={() => handleRemove(index)}\n                    className=\"absolute -right-2 -top-2 rounded-full bg-pr_dg px-2 py-1 text-xs text-pr_w\"\n                  >\n                    ×\n                  </button>\n                </div>\n              ))}\n            </div>\n          ) : null}\n        </div>\n\n        {error ? <p className=\"text-xs text-pr_dr\">{error}</p> : null}\n\n        <div className=\"flex flex-wrap justify-end gap-3\">\n          <button\n            type=\"button\"\n            onClick={onClose}\n            className=\"rounded-full border border-pr_dg/30 px-5 py-2 text-sm font-semibold text-pr_dg\"\n          >\n            Cancel\n          </button>\n          <button\n            type=\"button\"\n            onClick={onSubmit}\n            disabled={loading}\n            className=\"rounded-full bg-pr_dg px-5 py-2 text-sm font-semibold text-pr_w disabled:opacity-60\"\n          >\n            {loading ? \"Creating...\" : \"Create\"}\n          </button>\n        </div>\n      </div>\n    </Modal>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAoBe,SAAS,gBAAgB,EACtC,MAAM,EACN,OAAO,EACP,MAAM,EACN,cAAc,EACd,IAAI,EACJ,YAAY,EACZ,MAAM,EACN,cAAc,EACd,QAAQ,EACR,OAAO,EACP,KAAK,EACgB;IACrB,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAC;IAEzC,MAAM,iBAAiB;QACrB,MAAM,UAAU,SAAS,IAAI;QAC7B,IAAI,CAAC,SAAS;QACd,eAAe;eAAI;YAAQ;SAAQ,CAAC,KAAK,CAAC,GAAG;QAC7C,YAAY;IACd;IAEA,MAAM,eAAe,CAAC;QACpB,eAAe,OAAO,MAAM,CAAC,CAAC,GAAG,MAAQ,QAAQ;IACnD;IAEA,qBACE,8OAAC,qIAAK;QAAC,QAAQ;QAAQ,SAAS;QAAS,WAAU;kBACjD,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC;;sCACC,8OAAC;4BAAG,WAAU;sCAAwB;;;;;;sCACtC,8OAAC;4BAAE,WAAU;sCAA6B;;;;;;sCAC1C,8OAAC;4BAAI,WAAU;sCACZ,MAAM,IAAI,CAAC;gCAAE,QAAQ;4BAAE,GAAG,CAAC,GAAG,QAAU,QAAQ,GAAG,GAAG,CAAC,CAAC,sBACvD,8OAAC;oCAEC,MAAK;oCACL,SAAS,IAAM,eAAe;oCAC9B,WAAW,IAAA,kHAAE,EACX,sBACA,UAAU,QAAQ,eAAe;8CAEpC;mCAPM;;;;;;;;;;;;;;;;8BAcb,8OAAC;8BACC,cAAA,8OAAC;wBACC,OAAO;wBACP,UAAU,CAAC,QAAU,aAAa,MAAM,MAAM,CAAC,KAAK;wBACpD,aAAY;wBACZ,WAAU;;;;;;;;;;;8BAId,8OAAC;;sCACC,8OAAC;4BAAE,WAAU;sCAAwB;;;;;;sCACrC,8OAAC;4BAAI,WAAU;sCAAkF;;;;;;sCAGjG,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCACC,OAAO;oCACP,UAAU,CAAC,QAAU,YAAY,MAAM,MAAM,CAAC,KAAK;oCACnD,aAAY;oCACZ,WAAU;;;;;;8CAEZ,8OAAC;oCACC,MAAK;oCACL,SAAS;oCACT,WAAU;8CACX;;;;;;;;;;;;wBAKF,OAAO,MAAM,GAAG,kBACf,8OAAC;4BAAI,WAAU;sCACZ,OAAO,GAAG,CAAC,CAAC,OAAO,sBAClB,8OAAC;oCAA8B,WAAU;;sDACvC,8OAAC;4CACC,KAAK;4CACL,KAAI;4CACJ,WAAU;;;;;;sDAEZ,8OAAC;4CACC,MAAK;4CACL,SAAS,IAAM,aAAa;4CAC5B,WAAU;sDACX;;;;;;;mCAVO,GAAG,MAAM,CAAC,EAAE,OAAO;;;;;;;;;mCAgB/B;;;;;;;gBAGL,sBAAQ,8OAAC;oBAAE,WAAU;8BAAsB;;;;;2BAAa;8BAEzD,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BACC,MAAK;4BACL,SAAS;4BACT,WAAU;sCACX;;;;;;sCAGD,8OAAC;4BACC,MAAK;4BACL,SAAS;4BACT,UAAU;4BACV,WAAU;sCAET,UAAU,gBAAgB;;;;;;;;;;;;;;;;;;;;;;;AAMvC"}},
    {"offset": {"line": 1091, "column": 0}, "map": {"version":3,"sources":["file:///Users/yarik/Documents/GitHub/EVERLAVE_B2C/frontend/services/reviews.ts"],"sourcesContent":["import { apiFetch } from \"@/lib/apiClient\";\n\nexport type ReviewImage = {\n  url: string;\n};\n\nexport type ReviewUser = {\n  name: string;\n};\n\nexport type ReviewItem = {\n  id?: string;\n  rating: number;\n  text?: string;\n  createdAt: string;\n  isMine?: boolean;\n  user: ReviewUser;\n  images?: ReviewImage[];\n};\n\nexport type ReviewsResponse = {\n  page: number;\n  limit: number;\n  total: number;\n  items: ReviewItem[];\n};\n\nexport type ReviewSummary = {\n  ratingAvg: number;\n  reviewCount: number;\n};\n\nfunction normalizeProductRef(productRef: string) {\n  return productRef.trim();\n}\n\nexport async function fetchReviews(\n  productId: string,\n  page: number,\n  limit: number,\n) {\n  const normalizedProductRef = normalizeProductRef(productId);\n  if (!normalizedProductRef) {\n    throw new Error(\"Product reference is required\");\n  }\n  const resolvedProductId = encodeURIComponent(normalizedProductRef);\n  const params = new URLSearchParams({\n    page: String(page),\n    limit: String(limit),\n  });\n  const response = await apiFetch(\n    `/products/${resolvedProductId}/reviews?${params.toString()}`,\n  );\n\n  if (!response.ok) {\n    throw new Error(\"Failed to load reviews\");\n  }\n\n  return (await response.json()) as ReviewsResponse;\n}\n\nexport async function fetchReviewSummary(productId: string) {\n  const normalizedProductRef = normalizeProductRef(productId);\n  if (!normalizedProductRef) {\n    throw new Error(\"Product reference is required\");\n  }\n  const resolvedProductId = encodeURIComponent(normalizedProductRef);\n  const response = await apiFetch(\n    `/products/${resolvedProductId}/reviews/summary`,\n  );\n\n  if (!response.ok) {\n    throw new Error(\"Failed to load review summary\");\n  }\n\n  return (await response.json()) as ReviewSummary;\n}\n\nexport async function createReview(\n  productId: string,\n  data: { rating: number; text?: string; images?: string[] },\n) {\n  const normalizedProductRef = normalizeProductRef(productId);\n  if (!normalizedProductRef) {\n    throw new Error(\"Product reference is required\");\n  }\n  const resolvedProductId = encodeURIComponent(normalizedProductRef);\n  const response = await apiFetch(`/products/${resolvedProductId}/reviews`, {\n    method: \"POST\",\n    headers: { \"Content-Type\": \"application/json\" },\n    body: JSON.stringify(data),\n  });\n\n  if (!response.ok) {\n    const error = (await response.json().catch(() => ({}))) as {\n      message?: string;\n      error?: string;\n    };\n    throw new Error(\n      error?.message || error?.error || `Failed to submit review (${response.status})`,\n    );\n  }\n\n  return response.json();\n}\n\nexport async function deleteReview(reviewId: string) {\n  const response = await apiFetch(`/reviews/${reviewId}`, {\n    method: \"DELETE\",\n  });\n\n  if (!response.ok) {\n    const error = (await response.json().catch(() => ({}))) as {\n      message?: string;\n      error?: string;\n    };\n    throw new Error(\n      error?.message || error?.error || `Failed to delete review (${response.status})`,\n    );\n  }\n\n  return response.json() as Promise<{ success: boolean }>;\n}\n"],"names":[],"mappings":";;;;;;;;;;AAAA;;AAgCA,SAAS,oBAAoB,UAAkB;IAC7C,OAAO,WAAW,IAAI;AACxB;AAEO,eAAe,aACpB,SAAiB,EACjB,IAAY,EACZ,KAAa;IAEb,MAAM,uBAAuB,oBAAoB;IACjD,IAAI,CAAC,sBAAsB;QACzB,MAAM,IAAI,MAAM;IAClB;IACA,MAAM,oBAAoB,mBAAmB;IAC7C,MAAM,SAAS,IAAI,gBAAgB;QACjC,MAAM,OAAO;QACb,OAAO,OAAO;IAChB;IACA,MAAM,WAAW,MAAM,IAAA,4HAAQ,EAC7B,CAAC,UAAU,EAAE,kBAAkB,SAAS,EAAE,OAAO,QAAQ,IAAI;IAG/D,IAAI,CAAC,SAAS,EAAE,EAAE;QAChB,MAAM,IAAI,MAAM;IAClB;IAEA,OAAQ,MAAM,SAAS,IAAI;AAC7B;AAEO,eAAe,mBAAmB,SAAiB;IACxD,MAAM,uBAAuB,oBAAoB;IACjD,IAAI,CAAC,sBAAsB;QACzB,MAAM,IAAI,MAAM;IAClB;IACA,MAAM,oBAAoB,mBAAmB;IAC7C,MAAM,WAAW,MAAM,IAAA,4HAAQ,EAC7B,CAAC,UAAU,EAAE,kBAAkB,gBAAgB,CAAC;IAGlD,IAAI,CAAC,SAAS,EAAE,EAAE;QAChB,MAAM,IAAI,MAAM;IAClB;IAEA,OAAQ,MAAM,SAAS,IAAI;AAC7B;AAEO,eAAe,aACpB,SAAiB,EACjB,IAA0D;IAE1D,MAAM,uBAAuB,oBAAoB;IACjD,IAAI,CAAC,sBAAsB;QACzB,MAAM,IAAI,MAAM;IAClB;IACA,MAAM,oBAAoB,mBAAmB;IAC7C,MAAM,WAAW,MAAM,IAAA,4HAAQ,EAAC,CAAC,UAAU,EAAE,kBAAkB,QAAQ,CAAC,EAAE;QACxE,QAAQ;QACR,SAAS;YAAE,gBAAgB;QAAmB;QAC9C,MAAM,KAAK,SAAS,CAAC;IACvB;IAEA,IAAI,CAAC,SAAS,EAAE,EAAE;QAChB,MAAM,QAAS,MAAM,SAAS,IAAI,GAAG,KAAK,CAAC,IAAM,CAAC,CAAC,CAAC;QAIpD,MAAM,IAAI,MACR,OAAO,WAAW,OAAO,SAAS,CAAC,yBAAyB,EAAE,SAAS,MAAM,CAAC,CAAC,CAAC;IAEpF;IAEA,OAAO,SAAS,IAAI;AACtB;AAEO,eAAe,aAAa,QAAgB;IACjD,MAAM,WAAW,MAAM,IAAA,4HAAQ,EAAC,CAAC,SAAS,EAAE,UAAU,EAAE;QACtD,QAAQ;IACV;IAEA,IAAI,CAAC,SAAS,EAAE,EAAE;QAChB,MAAM,QAAS,MAAM,SAAS,IAAI,GAAG,KAAK,CAAC,IAAM,CAAC,CAAC,CAAC;QAIpD,MAAM,IAAI,MACR,OAAO,WAAW,OAAO,SAAS,CAAC,yBAAyB,EAAE,SAAS,MAAM,CAAC,CAAC,CAAC;IAEpF;IAEA,OAAO,SAAS,IAAI;AACtB"}},
    {"offset": {"line": 1167, "column": 0}, "map": {"version":3,"sources":["file:///Users/yarik/Documents/GitHub/EVERLAVE_B2C/frontend/components/seeds/ReviewsSection.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useMemo, useState } from \"react\";\nimport { usePathname, useRouter } from \"next/navigation\";\nimport RatingBar from \"@/components/seeds/RatingBar\";\nimport ReviewCard from \"@/components/seeds/ReviewCard\";\nimport ImageLightbox from \"@/components/ui/ImageLightbox\";\nimport ReviewDetailModal, {\n  ReviewDetail,\n} from \"@/components/seeds/ReviewDetailModal\";\nimport ReviewFormModal from \"@/components/seeds/ReviewFormModal\";\nimport { useAuth } from \"@/components/auth/AuthProvider\";\nimport {\n  createReview,\n  deleteReview,\n  fetchReviews,\n  fetchReviewSummary,\n  ReviewSummary,\n} from \"@/services/reviews\";\n\ntype ReviewsSectionProps = {\n  productId: string;\n};\n\nconst emptySummary: ReviewSummary = {\n  ratingAvg: 0,\n  reviewCount: 0,\n};\n\nconst mockReviews = [\n  {\n    rating: 5,\n    text: \"Second time ordering from this store. Consistent quality, clear product information, and fast order processing.\",\n    createdAt: \"2026-02-10T10:00:00Z\",\n    user: { name: \"Alex M.\" },\n    images: [\n      { url: \"https://picsum.photos/seed/review-1/300\" },\n      { url: \"https://picsum.photos/seed/review-2/300\" },\n    ],\n  },\n  {\n    rating: 3,\n    text: \"Product is okay and arrived on time. Nothing negative, but nothing outstanding either.\",\n    createdAt: \"2026-02-05T12:00:00Z\",\n    user: { name: \"Chris T.\" },\n    images: [{ url: \"https://picsum.photos/seed/review-3/300\" }],\n  },\n  {\n    rating: 4,\n    text: \"Reliable shop with good communication. Packaging was discreet and secure. Overall a smooth experience.\",\n    createdAt: \"2026-02-01T09:00:00Z\",\n    user: { name: \"Daniel S.\" },\n    images: [],\n  },\n];\n\nconst mockSummary: ReviewSummary = {\n  ratingAvg: 4.5,\n  reviewCount: 24,\n};\n\nexport default function ReviewsSection({ productId }: ReviewsSectionProps) {\n  const disableAuth = process.env.NEXT_PUBLIC_DISABLE_AUTH === \"true\";\n  const router = useRouter();\n  const pathname = usePathname();\n  const { isAuthenticated } = useAuth();\n  const [summary, setSummary] = useState<ReviewSummary>(emptySummary);\n  const [reviews, setReviews] = useState<\n    Array<{\n      id?: string;\n      rating: number;\n      text?: string;\n      createdAt: string;\n      isMine?: boolean;\n      user: { name: string };\n      images?: { url: string }[];\n    }>\n  >([]);\n  const [page, setPage] = useState(1);\n  const [total, setTotal] = useState(0);\n  const [loading, setLoading] = useState(true);\n  const [formRating, setFormRating] = useState(5);\n  const [formText, setFormText] = useState(\"\");\n  const [formImages, setFormImages] = useState<string[]>([]);\n  const [formError, setFormError] = useState(\"\");\n  const [formLoading, setFormLoading] = useState(false);\n  const [isPhotoModalOpen, setIsPhotoModalOpen] = useState(false);\n  const [isReviewModalOpen, setIsReviewModalOpen] = useState(false);\n  const [reviewModalData, setReviewModalData] = useState<ReviewDetail | null>(\n    null,\n  );\n  const [isFormModalOpen, setIsFormModalOpen] = useState(false);\n\n  const pageCount = Math.max(1, Math.ceil(total / 3));\n\n  const ratingBreakdown = useMemo(() => {\n    return reviews.reduce(\n      (acc, review) => {\n        const key = String(review.rating) as keyof typeof acc;\n        acc[key] = (acc[key] ?? 0) + 1;\n        return acc;\n      },\n      { \"1\": 0, \"2\": 0, \"3\": 0, \"4\": 0, \"5\": 0 },\n    );\n  }, [reviews]);\n\n  const derivedSummary = useMemo(() => {\n    const reviewCount = summary.reviewCount || total || reviews.length;\n    if (summary.reviewCount > 0) {\n      return { ratingAvg: summary.ratingAvg, reviewCount };\n    }\n    if (reviews.length > 0) {\n      const avg =\n        reviews.reduce((sum, review) => sum + review.rating, 0) / reviews.length;\n      return { ratingAvg: avg, reviewCount };\n    }\n    return { ratingAvg: 0, reviewCount };\n  }, [summary.reviewCount, summary.ratingAvg, total, reviews]);\n\n  const reviewImages = useMemo(() => {\n    return reviews\n      .flatMap((review) => review.images ?? [])\n      .map((image) => image.url)\n      .slice(0, 6);\n  }, [reviews]);\n\n  useEffect(() => {\n    let isMounted = true;\n    const load = async () => {\n      setLoading(true);\n      try {\n        const [summaryData, reviewsData] = await Promise.all([\n          fetchReviewSummary(productId),\n          fetchReviews(productId, page, 3),\n        ]);\n        if (!isMounted) return;\n        if (summaryData.reviewCount === 0 && reviewsData.items.length > 0) {\n          const avg =\n            reviewsData.items.reduce((sum, review) => sum + review.rating, 0) /\n            reviewsData.items.length;\n          setSummary({\n            ratingAvg: avg,\n            reviewCount: reviewsData.items.length,\n          });\n        } else {\n          setSummary(summaryData);\n        }\n        setReviews(reviewsData.items);\n        setTotal(reviewsData.total);\n      } catch {\n        if (!isMounted) return;\n        setSummary(mockSummary);\n        setReviews(mockReviews);\n        setTotal(mockReviews.length);\n      } finally {\n        if (isMounted) setLoading(false);\n      }\n    };\n\n    if (productId) {\n      load();\n    }\n    return () => {\n      isMounted = false;\n    };\n  }, [productId, page]);\n\n  const handleSubmit = async () => {\n    if (!isAuthenticated && !disableAuth) {\n      router.push(`/signin?next=${encodeURIComponent(pathname ?? \"/\")}`);\n      return;\n    }\n\n    if (formRating < 1 || formRating > 5) {\n      setFormError(\"Rating must be between 1 and 5\");\n      return;\n    }\n\n    setFormError(\"\");\n    setFormLoading(true);\n    try {\n      await createReview(productId, {\n        rating: formRating,\n        text: formText.trim() || undefined,\n        images: formImages.length ? formImages : undefined,\n      });\n      setFormText(\"\");\n      setFormRating(5);\n      setFormImages([]);\n      setPage(1);\n      const [summaryData, reviewsData] = await Promise.all([\n        fetchReviewSummary(productId),\n        fetchReviews(productId, 1, 3),\n      ]);\n      if (summaryData.reviewCount === 0 && reviewsData.items.length > 0) {\n        const avg =\n          reviewsData.items.reduce((sum, review) => sum + review.rating, 0) /\n          reviewsData.items.length;\n        setSummary({\n          ratingAvg: avg,\n          reviewCount: reviewsData.items.length,\n        });\n      } else {\n        setSummary(summaryData);\n      }\n      setReviews(reviewsData.items);\n      setTotal(reviewsData.total);\n      setIsFormModalOpen(false);\n    } catch (error) {\n      setFormError(\n        error instanceof Error ? error.message : \"Failed to submit review\",\n      );\n    } finally {\n      setFormLoading(false);\n    }\n  };\n\n  const handleDelete = async (reviewId?: string) => {\n    if (!reviewId) return;\n    setFormError(\"\");\n    setFormLoading(true);\n    try {\n      await deleteReview(reviewId);\n      setPage(1);\n      const [summaryData, reviewsData] = await Promise.all([\n        fetchReviewSummary(productId),\n        fetchReviews(productId, 1, 3),\n      ]);\n      setSummary(summaryData);\n      setReviews(reviewsData.items);\n      setTotal(reviewsData.total);\n    } catch (error) {\n      setFormError(\n        error instanceof Error ? error.message : \"Failed to delete review\",\n      );\n    } finally {\n      setFormLoading(false);\n    }\n  };\n\n  return (\n    <>\n      <div className=\"mt-10 grid gap-6 lg:grid-cols-[1fr_1.5fr]\">\n        <div className=\"space-y-6\">\n          <div className=\"rounded-2xl bg-pr_w p-6 text-pr_dg\">\n            <div className=\"flex items-center justify-between text-sm font-semibold\">\n              <span>Average Rate</span>\n              <span>{Number(derivedSummary.ratingAvg).toFixed(1)} ★</span>\n            </div>\n            <p className=\"mt-1 text-xs text-pr_dg/60\">\n              {derivedSummary.reviewCount} reviews\n            </p>\n            <div className=\"mt-4 space-y-3\">\n              <RatingBar\n                label=\"5 - Excellent\"\n                value={ratingBreakdown[\"5\"]}\n                total={reviews.length || 1}\n              />\n              <RatingBar\n                label=\"4 - Very Good\"\n                value={ratingBreakdown[\"4\"]}\n                total={reviews.length || 1}\n              />\n              <RatingBar\n                label=\"3 - Good\"\n                value={ratingBreakdown[\"3\"]}\n                total={reviews.length || 1}\n              />\n              <RatingBar\n                label=\"2 - Fair\"\n                value={ratingBreakdown[\"2\"]}\n                total={reviews.length || 1}\n              />\n              <RatingBar\n                label=\"1 - Poor\"\n                value={ratingBreakdown[\"1\"]}\n                total={reviews.length || 1}\n              />\n            </div>\n          </div>\n\n          <div className=\"rounded-2xl bg-pr_w p-6 text-pr_dg\">\n            <p className=\"text-sm font-semibold\">Review this product</p>\n            <p className=\"mt-1 text-xs text-pr_dg/70\">\n              Share your thoughts with other customers\n            </p>\n            <button\n              type=\"button\"\n              onClick={() => {\n                if (!isAuthenticated && !disableAuth) {\n                  router.push(`/signin?next=${encodeURIComponent(pathname ?? \"/\")}`);\n                  return;\n                }\n                setIsFormModalOpen(true);\n              }}\n              disabled={formLoading}\n              className=\"mt-4 w-full rounded-full bg-sr_dg px-4 py-2 text-xs font-semibold text-pr_w disabled:opacity-60\"\n            >\n              {formLoading\n                ? \"Submitting...\"\n                : isAuthenticated || disableAuth\n                  ? \"Write a customer review\"\n                  : \"Sign in to review\"}\n            </button>\n          </div>\n        </div>\n\n        <div className=\"space-y-6\">\n          <div className=\"rounded-2xl bg-pr_w p-6 text-pr_dg\">\n            <div className=\"flex items-center justify-between\">\n              <p className=\"text-sm font-semibold\">Review with images</p>\n              <button\n                type=\"button\"\n                onClick={() => setIsPhotoModalOpen(true)}\n                className=\"rounded-full bg-sr_dg px-3 py-1 text-xs font-semibold text-pr_w\"\n              >\n                See All Photos\n              </button>\n            </div>\n            <div className=\"mt-4 grid grid-cols-3 gap-3\">\n              {reviewImages.length > 0 ? (\n                reviewImages.map((url, index) => (\n                  <img\n                    key={`${url}-${index}`}\n                    src={url}\n                    alt=\"\"\n                    onClick={() => setIsPhotoModalOpen(true)}\n                    className=\"h-20 w-full rounded-lg object-cover\"\n                  />\n                ))\n              ) : (\n                <>\n                  <div className=\"h-20 rounded-lg bg-sr_dg/90\" />\n                  <div className=\"h-20 rounded-lg bg-sr_dg/90\" />\n                  <div className=\"h-20 rounded-lg bg-sr_dg/90\" />\n                </>\n              )}\n            </div>\n          </div>\n\n          {loading ? (\n            <div className=\"rounded-2xl bg-pr_w p-6 text-pr_dg\">\n              <p className=\"text-sm text-pr_dg/70\">Loading reviews...</p>\n            </div>\n          ) : reviews.length > 0 ? (\n            reviews.map((review, index) => (\n              <ReviewCard\n                key={review.id ?? `${review.user?.name ?? \"user\"}-${review.createdAt}-${index}`}\n                name={review.user?.name ?? \"Anonymous\"}\n                rating={review.rating}\n                text={review.text ?? \"No review text.\"}\n                images={review.images?.map((image) => image.url) ?? []}\n                createdAt={review.createdAt}\n                isMine={review.isMine}\n                onDelete={review.id ? () => handleDelete(review.id) : undefined}\n                onOpen={() => {\n                  setReviewModalData({\n                    name: review.user?.name ?? \"Anonymous\",\n                    rating: review.rating,\n                    text: review.text ?? \"No review text.\",\n                    images: review.images?.map((image) => image.url) ?? [],\n                    createdAt: review.createdAt,\n                  });\n                  setIsReviewModalOpen(true);\n                }}\n              />\n            ))\n          ) : (\n            <div className=\"rounded-2xl bg-pr_w p-6 text-pr_dg\">\n              <p className=\"text-sm text-pr_dg/70\">No reviews yet.</p>\n            </div>\n          )}\n\n          {pageCount > 1 ? (\n            <div className=\"flex items-center gap-2\">\n              <button\n                type=\"button\"\n                onClick={() => setPage((prev) => Math.max(1, prev - 1))}\n                disabled={page === 1}\n                className=\"rounded-full border border-pr_dg/20 px-3 py-1 text-xs text-pr_dg disabled:opacity-50\"\n              >\n                Prev\n              </button>\n              <span className=\"text-xs text-pr_dg/60\">\n                Page {page} of {pageCount}\n              </span>\n              <button\n                type=\"button\"\n                onClick={() => setPage((prev) => Math.min(pageCount, prev + 1))}\n                disabled={page === pageCount}\n                className=\"rounded-full border border-pr_dg/20 px-3 py-1 text-xs text-pr_dg disabled:opacity-50\"\n              >\n                Next\n              </button>\n            </div>\n          ) : null}\n        </div>\n      </div>\n\n      <ImageLightbox\n        images={reviewImages}\n        isOpen={isPhotoModalOpen}\n        onClose={() => setIsPhotoModalOpen(false)}\n        title=\"Review photos\"\n      />\n\n      <ReviewDetailModal\n        isOpen={isReviewModalOpen}\n        onClose={() => setIsReviewModalOpen(false)}\n        review={reviewModalData}\n      />\n\n      <ReviewFormModal\n        isOpen={isFormModalOpen}\n        onClose={() => setIsFormModalOpen(false)}\n        rating={formRating}\n        onRatingChange={setFormRating}\n        text={formText}\n        onTextChange={setFormText}\n        images={formImages}\n        onImagesChange={setFormImages}\n        onSubmit={handleSubmit}\n        loading={formLoading}\n        error={formError}\n      />\n    </>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1794, "column": 0}, "map": {"version":3,"sources":["file:///Users/yarik/Documents/GitHub/EVERLAVE_B2C/frontend/components/seeds/ReviewSummaryInline.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport { fetchReviewSummary } from \"@/services/reviews\";\n\ntype ReviewSummaryInlineProps = {\n  productId: string;\n  fallbackRating?: number;\n};\n\nexport default function ReviewSummaryInline({\n  productId,\n  fallbackRating = 0,\n}: ReviewSummaryInlineProps) {\n  const [rating, setRating] = useState(fallbackRating);\n\n  useEffect(() => {\n    let isMounted = true;\n\n    const load = async () => {\n      try {\n        const summary = await fetchReviewSummary(productId);\n        if (!isMounted) return;\n        const value = Number(summary?.ratingAvg ?? fallbackRating);\n        setRating(Number.isFinite(value) ? value : fallbackRating);\n      } catch {\n        if (!isMounted) return;\n        setRating(fallbackRating);\n      }\n    };\n\n    if (productId) load();\n\n    return () => {\n      isMounted = false;\n    };\n  }, [productId, fallbackRating]);\n\n  return <>{Number(rating ?? 0).toFixed(1)}★</>;\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAUe,SAAS,oBAAoB,EAC1C,SAAS,EACT,iBAAiB,CAAC,EACO;IACzB,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,iNAAQ,EAAC;IAErC,IAAA,kNAAS,EAAC;QACR,IAAI,YAAY;QAEhB,MAAM,OAAO;YACX,IAAI;gBACF,MAAM,UAAU,MAAM,IAAA,yIAAkB,EAAC;gBACzC,IAAI,CAAC,WAAW;gBAChB,MAAM,QAAQ,OAAO,SAAS,aAAa;gBAC3C,UAAU,OAAO,QAAQ,CAAC,SAAS,QAAQ;YAC7C,EAAE,OAAM;gBACN,IAAI,CAAC,WAAW;gBAChB,UAAU;YACZ;QACF;QAEA,IAAI,WAAW;QAEf,OAAO;YACL,YAAY;QACd;IACF,GAAG;QAAC;QAAW;KAAe;IAE9B,qBAAO;;YAAG,OAAO,UAAU,GAAG,OAAO,CAAC;YAAG;;;AAC3C"}},
    {"offset": {"line": 1839, "column": 0}, "map": {"version":3,"sources":["file:///Users/yarik/Documents/GitHub/EVERLAVE_B2C/frontend/components/seeds/ProductGallery.tsx"],"sourcesContent":["\"use client\";\n\nimport { useMemo, useState } from \"react\";\nimport ImageLightbox from \"@/components/ui/ImageLightbox\";\n\ntype ProductGalleryProps = {\n  title: string;\n  images?: Array<{ url: string }>;\n};\n\nexport default function ProductGallery({ title, images = [] }: ProductGalleryProps) {\n  const urls = useMemo(\n    () => images.map((image) => image.url).filter(Boolean),\n    [images],\n  );\n  const [isOpen, setIsOpen] = useState(false);\n  const [index, setIndex] = useState(0);\n\n  const openAt = (idx: number) => {\n    setIndex(idx);\n    setIsOpen(true);\n  };\n\n  return (\n    <>\n      {urls.length > 0 ? (\n        <button type=\"button\" onClick={() => openAt(0)} className=\"block w-full\">\n          <img\n            src={urls[0]}\n            alt={title}\n            className=\"block h-[320px] w-full rounded-2xl object-cover sm:h-[420px]\"\n          />\n        </button>\n      ) : (\n        <div className=\"h-[320px] w-full rounded-2xl bg-pr_w sm:h-[420px]\" />\n      )}\n      <div className=\"mt-4 flex gap-4\">\n        {urls.length > 1 ? (\n          urls.slice(1, 4).map((url, idx) => (\n            <button\n              key={`${url}-${idx}`}\n              type=\"button\"\n              onClick={() => openAt(idx + 1)}\n            >\n              <img\n                src={url}\n                alt=\"\"\n                className=\"h-16 w-16 rounded-xl object-cover\"\n              />\n            </button>\n          ))\n        ) : (\n          [0, 1, 2].map((placeholder) => (\n            <div key={placeholder} className=\"h-16 w-16 rounded-xl bg-pr_w\" />\n          ))\n        )}\n      </div>\n\n      <ImageLightbox\n        images={urls}\n        isOpen={isOpen}\n        initialIndex={index}\n        onClose={() => setIsOpen(false)}\n        title={title}\n      />\n    </>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAUe,SAAS,eAAe,EAAE,KAAK,EAAE,SAAS,EAAE,EAAuB;IAChF,MAAM,OAAO,IAAA,gNAAO,EAClB,IAAM,OAAO,GAAG,CAAC,CAAC,QAAU,MAAM,GAAG,EAAE,MAAM,CAAC,UAC9C;QAAC;KAAO;IAEV,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,iNAAQ,EAAC;IACrC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAC;IAEnC,MAAM,SAAS,CAAC;QACd,SAAS;QACT,UAAU;IACZ;IAEA,qBACE;;YACG,KAAK,MAAM,GAAG,kBACb,8OAAC;gBAAO,MAAK;gBAAS,SAAS,IAAM,OAAO;gBAAI,WAAU;0BACxD,cAAA,8OAAC;oBACC,KAAK,IAAI,CAAC,EAAE;oBACZ,KAAK;oBACL,WAAU;;;;;;;;;;qCAId,8OAAC;gBAAI,WAAU;;;;;;0BAEjB,8OAAC;gBAAI,WAAU;0BACZ,KAAK,MAAM,GAAG,IACb,KAAK,KAAK,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC,KAAK,oBACzB,8OAAC;wBAEC,MAAK;wBACL,SAAS,IAAM,OAAO,MAAM;kCAE5B,cAAA,8OAAC;4BACC,KAAK;4BACL,KAAI;4BACJ,WAAU;;;;;;uBAPP,GAAG,IAAI,CAAC,EAAE,KAAK;;;;gCAYxB;oBAAC;oBAAG;oBAAG;iBAAE,CAAC,GAAG,CAAC,CAAC,4BACb,8OAAC;wBAAsB,WAAU;uBAAvB;;;;;;;;;;0BAKhB,8OAAC,6IAAa;gBACZ,QAAQ;gBACR,QAAQ;gBACR,cAAc;gBACd,SAAS,IAAM,UAAU;gBACzB,OAAO;;;;;;;;AAIf"}}]
}